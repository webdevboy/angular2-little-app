{"version":3,"file":"mdl-simple-dialog.component.js","sourceRoot":"","sources":["../../../src/lib/components/dialog/mdl-simple-dialog.component.ts"],"names":[],"mappings":"OAAO,EACL,SAAS,EACT,iBAAiB,EACjB,YAAY,EACZ,UAAU,EACV,MAAM,EACN,YAAY,EAGb,MAAM,eAAe;OACf,EACL,kBAAkB,EAClB,iBAAiB,EAClB,MAAM,sBAAsB;AAO7B;IAIE,oFAAoF;IACpF,kCACW,mBAAkD,EAClD,MAA0B;QAPvC,iBA6DC;QAvDY,wBAAmB,GAAnB,mBAAmB,CAA+B;QAClD,WAAM,GAAN,MAAM,CAAoB;QAEnC,MAAM,CAAC,SAAS,EAAE,CAAC,SAAS,CAAE;YAC5B,EAAE,CAAA,CAAC,KAAI,CAAC,OAAO,CAAC,CAAA,CAAC;gBACf,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YAC3C,CAAC;QACH,CAAC,CAAC,CAAA;IACJ,CAAC;IAEM,gDAAa,GAApB,UAAqB,MAAwB;QAC3C,MAAM,CAAC,OAAO,EAAE,CAAC;QACjB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IACrB,CAAC;IAGM,wCAAK,GAAZ;QACE,wDAAwD;QACxD,IAAI,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAE,UAAA,MAAM,IAAI,OAAA,MAAM,CAAC,eAAe,EAAtB,CAAsB,CAAC,CAAC;QAC3F,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YAChB,WAAW,CAAC,OAAO,EAAE,CAAC;YACtB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QACrB,CAAC;IACH,CAAC;IAEI,mCAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;oBACxB,QAAQ,EAAE,sBAAsB;oBAChC,QAAQ,EAAE,qrBAcT;oBACD,aAAa,EAAE,iBAAiB,CAAC,IAAI;iBACtC,EAAG,EAAE;KACL,CAAC;IACF,kBAAkB;IACX,uCAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,UAAU,CAAE,cAAM,OAAA,iBAAiB,EAAjB,CAAiB,CAAC,EAAG,EAAE,EAAG,EAAC;QACnG,EAAC,IAAI,EAAE,kBAAkB,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,UAAU,CAAE,cAAM,OAAA,kBAAkB,EAAlB,CAAkB,CAAC,EAAG,EAAE,EAAG,EAAC;KAC5G,EAH6F,CAG7F,CAAC;IACK,uCAAc,GAA2C;QAChE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,QAAQ,EAAG,EAAE,EAAE;QACxD,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,aAAa,EAAG,EAAE,EAAE;KAC1D,CAAC;IACF,+BAAC;AAAD,CAAC,AA7DD,IA6DC","sourcesContent":["import {\n  Component,\n  ViewEncapsulation,\n  HostListener,\n  forwardRef,\n  Inject,\n  ViewChildren,\n  QueryList,\n  ElementRef\n} from '@angular/core';\nimport {\n  MdlDialogReference,\n  MDL_CONFIGUARTION\n} from './mdl-dialog.service';\nimport {\n  IMdlDialogAction,\n  IMdlSimpleDialogConfiguration\n} from './mdl-dialog-configuration';\n\n\nexport class MdlSimpleDialogComponent {\n\n   private buttons: QueryList<ElementRef>;\n\n  // why do i need forwardRef at this point, the demo LoginDialog dosn't need this!?!?\n  constructor(\n     private dialogConfiguration: IMdlSimpleDialogConfiguration,\n     private dialog: MdlDialogReference) {\n\n    dialog.onVisible().subscribe( () => {\n      if(this.buttons){\n        this.buttons.first.nativeElement.focus();\n      }\n    })\n  }\n\n  public actionClicked(action: IMdlDialogAction) {\n    action.handler();\n    this.dialog.hide();\n  }\n\n  \n  public onEsc(): void {\n    // run the first action that is marked as closing action\n    let closeAction = this.dialogConfiguration.actions.find( action => action.isClosingAction);\n    if (closeAction) {\n      closeAction.handler();\n      this.dialog.hide();\n    }\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'mdl-dialog-component',\n  template: `\n      <h3 class=\"mdl-dialog__title\" *ngIf=\"dialogConfiguration?.title\">{{dialogConfiguration?.title}}</h3>\n      <div class=\"mdl-dialog__content\" [innerHTML]=\"dialogConfiguration?.message\"></div>\n      <div \n        class=\"mdl-dialog__actions\" \n        [ngClass]=\"{'mdl-dialog__actions--full-width': dialogConfiguration?.fullWidthAction}\">\n        <button\n          #button\n          type=\"button\" \n          class=\"mdl-button mdl-color-text--primary\" \n          *ngFor=\"let action of dialogConfiguration?.actions\" \n          (click)=\"actionClicked(action)\"\n          [ngClass]=\"{'close': action.isClosingAction}\">{{action.text}}</button>\n      </div>\n  `,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [forwardRef( () => MDL_CONFIGUARTION), ] }, ]},\n{type: MdlDialogReference, decorators: [{ type: Inject, args: [forwardRef( () => MdlDialogReference), ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'buttons': [{ type: ViewChildren, args: ['button', ] },],\n'onEsc': [{ type: HostListener, args: ['keydown.esc', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}