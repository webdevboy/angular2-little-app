{"version":3,"file":"mdl-slider.component.js","sourceRoot":"","sources":["../../../src/lib/components/slider/mdl-slider.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  Input,\n  forwardRef,\n  ViewChild,\n  Renderer,\n  ElementRef,\n  NgModule,\n  ViewEncapsulation,\n  ModuleWithProviders\n} from '@angular/core';\nimport {\n  NG_VALUE_ACCESSOR,\n  ControlValueAccessor,\n  FormsModule\n} from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { BooleanProperty } from '../common/boolean-property';\n\nconst noop = (_?: any) => {};\n\n\nexport class MdlSliderComponent implements ControlValueAccessor {\n  private value_: any;\n\n   public min: number;\n   public max: number;\n   public step: number;\n   private lowerEl: ElementRef;\n   private upperEl: ElementRef;\n   private inputEl: ElementRef;\n   @BooleanProperty() public disabled = false;\n\n  constructor(private renderer: Renderer, private elRef: ElementRef) {\n  }\n\n  get value(): any { return this.value_; };\n   set value(v: any) {\n    this.value_ = v;\n    this.updateSliderUI();\n    this.onChangeCallback(v);\n  }\n\n  public writeValue(value: number): void {\n    this.value_ = value;\n    this.updateSliderUI();\n  }\n\n  private onTouchedCallback: () => void = noop;\n  private onChangeCallback: (_: any) => void = noop;\n\n  public registerOnChange(fn: any): void {\n    this.onChangeCallback = fn;\n  }\n\n  public registerOnTouched(fn: any): void {\n    this.onTouchedCallback = fn;\n  }\n\n  public setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  private updateSliderUI() {\n    var fraction = (this.value_ - this.min) / (this.max - this.min);\n\n    this.renderer.setElementClass(this.inputEl.nativeElement, 'is-lowest-value', fraction === 0);\n\n    this.renderer.setElementStyle(this.lowerEl.nativeElement, 'flex', '' + fraction);\n    this.renderer.setElementStyle(this.upperEl.nativeElement, 'flex', '' + (1 - fraction));\n  }\n\n  public onMouseUp(event) {\n    event.target.blur();\n  }\n\n  public onMouseDown(event: MouseEvent) {\n    if (event.target !== this.elRef.nativeElement) {\n      return;\n    }\n    // Discard the original event and create a new event that\n    // is on the slider element.\n    event.preventDefault();\n    var newEvent = new MouseEvent('mousedown', {\n      relatedTarget: event.relatedTarget,\n      button: event.button,\n      buttons: event.buttons,\n      clientX: event.clientX,\n      clientY: this.inputEl.nativeElement.getBoundingClientRect().y,\n      screenX: event.screenX,\n      screenY: event.screenY\n    });\n    this.renderer.invokeElementMethod(this.inputEl.nativeElement, 'dispatchEvent', [newEvent]);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'mdl-slider',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => MdlSliderComponent),\n    multi: true\n  }],\n  host: {\n    '[class.mdl-slider__container]': 'true',\n    '(mouseup)': 'onMouseUp($event)',\n    '(mousedown)': 'onMouseDown($event)'\n  },\n  template: `\n    <input class=\"mdl-slider is-upgraded\" \n            type=\"range\" \n            [min]=\"min\" \n            [max]=\"max\" \n            [step]=\"step\" \n            [(ngModel)]=\"value\" \n            [disabled]=\"disabled\"\n            tabindex=\"0\"\n            #input>\n    <div class=\"mdl-slider__background-flex\">\n      <div class=\"mdl-slider__background-lower\" #lower></div>\n      <div class=\"mdl-slider__background-upper\" #uppper></div>\n  </div>\n  `,\n  styles: [\n    `\n    :host {\n        height: 22px;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n    }\n    `\n  ],\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'min': [{ type: Input },],\n'max': [{ type: Input },],\n'step': [{ type: Input },],\n'lowerEl': [{ type: ViewChild, args: ['lower', ] },],\n'upperEl': [{ type: ViewChild, args: ['uppper', ] },],\n'inputEl': [{ type: ViewChild, args: ['input', ] },],\n'disabled': [{ type: Input },],\n'value': [{ type: Input },],\n};\n}\n\nconst MDL_SLIDER_DIRECTIVES = [MdlSliderComponent];\n\n\nexport class MdlSliderModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: MdlSliderModule,\n      providers: []\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [FormsModule, CommonModule],\n  exports: MDL_SLIDER_DIRECTIVES,\n  declarations: MDL_SLIDER_DIRECTIVES,\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}