{"version":3,"file":"index.umd.js","sources":["popover.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { ChangeDetectorRef, Component, ElementRef, HostBinding, HostListener, Input, NgModule, ViewEncapsulation } from '@angular/core';\nexport var MdlPopoverComponent = (function () {\n    function MdlPopoverComponent(changeDetectionRef, elementRef) {\n        this.changeDetectionRef = changeDetectionRef;\n        this.elementRef = elementRef;\n        this.hideOnClick = false;\n        this.isVisible = false;\n        this.directionUp = false;\n    }\n    MdlPopoverComponent.prototype.ngAfterViewInit = function () {\n        // Add a hide listener to native element\n        this.elementRef.nativeElement.addEventListener('hide', this.hide.bind(this));\n    };\n    MdlPopoverComponent.prototype.onDocumentClick = function (event) {\n        if (this.isVisible &&\n            (this.hideOnClick || !this.elementRef.nativeElement.contains(event.target))) {\n            this.hide();\n        }\n    };\n    MdlPopoverComponent.prototype.ngOnDestroy = function () {\n        this.elementRef.nativeElement.removeEventListener('hide');\n    };\n    MdlPopoverComponent.prototype.toggle = function (event) {\n        if (this.isVisible) {\n            this.hide();\n        }\n        else {\n            this.hideAllPopovers();\n            this.show(event);\n        }\n    };\n    MdlPopoverComponent.prototype.hide = function () {\n        this.isVisible = false;\n        this.changeDetectionRef.markForCheck();\n    };\n    MdlPopoverComponent.prototype.hideAllPopovers = function () {\n        var nodeList = document.querySelectorAll('.mdl-popover.is-visible');\n        for (var i = 0; i < nodeList.length; ++i) {\n            nodeList[i].dispatchEvent(new Event('hide'));\n        }\n    };\n    MdlPopoverComponent.prototype.show = function (event) {\n        event.stopPropagation();\n        this.isVisible = true;\n        this.updateDirection(event);\n    };\n    MdlPopoverComponent.prototype.updateDirection = function (event) {\n        var _this = this;\n        var nativeEl = this.elementRef.nativeElement;\n        var targetRect = event.target.getBoundingClientRect();\n        var viewHeight = window.innerHeight;\n        setTimeout(function () {\n            var height = nativeEl.offsetHeight;\n            if (height) {\n                var spaceAvailable = {\n                    top: targetRect.top,\n                    bottom: viewHeight - targetRect.bottom\n                };\n                _this.directionUp = spaceAvailable.bottom < height;\n                _this.changeDetectionRef.markForCheck();\n            }\n        });\n    };\n    __decorate([\n        Input('hide-on-click'), \n        __metadata('design:type', Boolean)\n    ], MdlPopoverComponent.prototype, \"hideOnClick\", void 0);\n    __decorate([\n        HostBinding('class.is-visible'), \n        __metadata('design:type', Object)\n    ], MdlPopoverComponent.prototype, \"isVisible\", void 0);\n    __decorate([\n        HostBinding('class.direction-up'), \n        __metadata('design:type', Object)\n    ], MdlPopoverComponent.prototype, \"directionUp\", void 0);\n    __decorate([\n        HostListener('document:click', ['$event']), \n        __metadata('design:type', Function), \n        __metadata('design:paramtypes', [Event]), \n        __metadata('design:returntype', void 0)\n    ], MdlPopoverComponent.prototype, \"onDocumentClick\", null);\n    MdlPopoverComponent = __decorate([\n        Component({selector: 'mdl-popover',\n            host: {\n                '[class.mdl-popover]': 'true'\n            },\n            template: \"<ng-content></ng-content> \",\n            encapsulation: ViewEncapsulation.None,\n        }), \n        __metadata('design:paramtypes', [ChangeDetectorRef, ElementRef])\n    ], MdlPopoverComponent);\n    return MdlPopoverComponent;\n}());\nexport var MdlPopoverModule = (function () {\n    function MdlPopoverModule() {\n    }\n    MdlPopoverModule.forRoot = function () {\n        return {\n            ngModule: MdlPopoverModule,\n            providers: []\n        };\n    };\n    MdlPopoverModule = __decorate([\n        NgModule({\n            imports: [],\n            exports: [MdlPopoverComponent],\n            declarations: [MdlPopoverComponent],\n        }), \n        __metadata('design:paramtypes', [])\n    ], MdlPopoverModule);\n    return MdlPopoverModule;\n}());\n\n//# sourceMappingURL=popover.js.map\n"],"names":["this","Input","HostBinding","HostListener","Component","ViewEncapsulation","ChangeDetectorRef","ElementRef","NgModule"],"mappings":"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"}